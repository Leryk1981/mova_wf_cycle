{
  "envelope_id": "env.mova_check_run_v1",
  "verb": "validate",
  "resource": "note",
  "input": {
    "context_kind": "schema",
    "file_path": "lab/env/env.dpp_passport_normalize_run_v1.schema.json",
    "content_after": "{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://mova.dev/lab/env/env.dpp_passport_normalize_run_v1.schema.json\",\n  \"title\": \"DPP Passport Normalize Run (lab)\",\n  \"description\": \"Envelope for running the DPP passport normalization engine on a single input record.\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"envelope_type\": {\n      \"type\": \"string\",\n      \"const\": \"env.dpp_passport_normalize_run_v1\"\n    },\n    \"verb\": {\n      \"type\": \"string\",\n      \"const\": \"transform\"\n    },\n    \"id\": {\n      \"type\": \"string\",\n      \"description\": \"Envelope identifier (optional).\"\n    },\n    \"time\": {\n      \"type\": \"string\",\n      \"format\": \"date-time\",\n      \"description\": \"Envelope creation time.\"\n    },\n    \"actor\": {\n      \"type\": \"object\",\n      \"description\": \"Actor initiating the normalize request.\",\n      \"properties\": {\n        \"role\": {\n          \"type\": \"string\"\n        },\n        \"id\": {\n          \"type\": \"string\"\n        }\n      },\n      \"additionalProperties\": true\n    },\n    \"meta\": {\n      \"type\": \"object\",\n      \"description\": \"Additional metadata (domain, labels, correlation id, etc.).\",\n      \"additionalProperties\": true\n    },\n    \"roles\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"requester\": {\n          \"type\": \"string\",\n          \"description\": \"Who triggers normalization (manufacturer or orchestrator).\"\n        },\n        \"engine\": {\n          \"type\": \"string\",\n          \"description\": \"Normalization engine handling the request (optional).\"\n        }\n      },\n      \"required\": [\n        \"requester\"\n      ],\n      \"additionalProperties\": false\n    },\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"input\": {\n          \"$ref\": \"https://mova.dev/lab/schemas/ds.dpp_passport_normalize_input_v1.schema.json\"\n        },\n        \"target_schema\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"ds.lab_battery_passport_extended_v1\"\n          ],\n          \"description\": \"Target schema id for normalized output. V1 fixed to lab_battery_passport_extended_v1.\"\n        },\n        \"options\": {\n          \"type\": \"object\",\n          \"description\": \"Optional engine options (reserved for future use).\",\n          \"additionalProperties\": true\n        }\n      },\n      \"required\": [\n        \"input\",\n        \"target_schema\"\n      ],\n      \"additionalProperties\": false\n    }\n  },\n  \"required\": [\n    \"envelope_type\",\n    \"verb\",\n    \"data\"\n  ],\n  \"additionalProperties\": false\n}",
    "change_summary": "Add env.dpp_passport_normalize_run_v1 envelope for running DPP normalization on a single record.",
    "check_level": "validate",
    "mova_core_version": "4.0.0",
    "target_core_version": "4.1.0-draft"
  },
  "meta": {
    "domain": "dpp_lab",
    "labels": [
      "dpp_lab",
      "L3_01",
      "dpp_passport_normalize_contracts"
    ]
  }
}
