{
  "envelope_id": "env.mova_check_run_v1",
  "verb": "validate",
  "resource": "note",
  "input": {
    "context_kind": "schema",
    "file_path": "lab/env/env.dpp_passport_read_v1.schema.json",
    "content_after": "{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://mova.dev/lab/env/env.dpp_passport_read_v1.schema.json\",\n  \"title\": \"env.dpp_passport_read_v1\",\n  \"description\": \"Lab-level envelope to request a DPP battery passport view (public/manufacturer/verifier/technical).\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"envelope_type\": {\n      \"type\": \"string\",\n      \"const\": \"env.dpp_passport_read_v1\"\n    },\n    \"verb\": {\n      \"type\": \"string\",\n      \"const\": \"read\"\n    },\n    \"roles\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"initiator\": {\n          \"type\": \"string\",\n          \"description\": \"Who requests the view (public_portal, manufacturer_portal, verifier_portal, etc.).\"\n        }\n      },\n      \"required\": [\n        \"initiator\"\n      ],\n      \"additionalProperties\": true\n    },\n    \"data\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"passport_id\": {\n          \"type\": \"string\",\n          \"description\": \"Battery passport identifier.\"\n        },\n        \"view_level\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"public\",\n            \"manufacturer\",\n            \"verifier\",\n            \"technical\"\n          ]\n        }\n      },\n      \"required\": [\n        \"passport_id\",\n        \"view_level\"\n      ],\n      \"additionalProperties\": false\n    }\n  },\n  \"required\": [\n    \"envelope_type\",\n    \"verb\",\n    \"data\"\n  ],\n  \"additionalProperties\": false\n}",
    "change_summary": "Add env.dpp_passport_read_v1 schema for DPP passport read workflow (public/manufacturer/verifier).",
    "check_level": "validate",
    "mova_core_version": "4.0.0",
    "target_core_version": "4.1.0-draft"
  },
  "meta": {
    "domain": "dpp_lab",
    "labels": [
      "dpp_lab",
      "L2_01",
      "dpp_passport_read_workflow"
    ]
  }
}
