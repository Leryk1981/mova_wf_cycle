{
  "mova_version": "4.0.0",
  "envelope_type": "env.lab_workflow_experiment_plan_result_v1",
  "envelope_id": "env.lab_workflow_experiment_plan_result_v1.WF_EX_011_smartlink_4_1_1_observability",
  "requested_by": "codex_cli",
  "requested_at": "2025-12-11T14:05:00Z",
  "meta": {
    "project_id": "mova_skills_lab",
    "labels": [
      "WF_EX_011",
      "smartlink",
      "observability",
      "plan_result"
    ]
  },
  "payload": {
    "experiment_id": "WF_EX_011_smartlink_4_1_1_observability",
    "scope": {
      "objects_in_scope": [
        "ds.smartlink.redirect_event.v1",
        "env.smartlink.redirect_event.v1",
        "global.smartlink.v1 (events/text_channels)",
        "meta.smartlink.v1 (observability section)"
      ],
      "baseline_refs": {
        "ds": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/ds.smartlink_redirect_event_v1.schema.json",
        "env": "lab/experiments/smartlink_4_1_1_candidate_ex010/envelopes/env.smartlink_redirect_event_v1.json",
        "global": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/global.smartlink_v1.json",
        "meta": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/meta.smartlink_v1.json"
      },
      "candidate_refs": {
        "ds": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/ds.smartlink_redirect_event_v1.schema.json",
        "env": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/envelopes/env.smartlink_redirect_event_v1.json",
        "global": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/global.smartlink_v1.json",
        "meta": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/meta.smartlink_v1.json"
      }
    },
    "plan_steps": [
      {
        "id": "compare_event_schema",
        "target": "ds.smartlink.redirect_event.v1",
        "description": "Compare ChatGPT baseline vs Codex payloads: core fields, debug block, and compliance with MOVA 4.1.1 (service fields, text layer).",
        "expected_outputs": [
          "List of core/debug differences.",
          "Recommendation on which payload to choose."
        ]
      },
      {
        "id": "compare_envelope",
        "target": "env.smartlink.redirect_event.v1",
        "description": "Compare inputs/outputs/plan: how the event is formed, how debug is added, whether extra dependencies exist.",
        "expected_outputs": [
          "List of differences across inputs/outputs.",
          "Recommendation on text-channel usage and links to global/meta."
        ]
      },
      {
        "id": "align_global_meta",
        "target": "global+meta",
        "description": "Check text channel/event_type and meta references for both variants; decide what becomes canonical.",
        "expected_outputs": [
          "Specific proposals for global/meta aligned to the chosen variant."
        ]
      }
    ],
    "notes": "WF_EX_011 plan: evaluate two observability variants (ChatGPT baseline vs Codex) for the smartlink.redirected event; worker/infra are out of scope."
  }
}
