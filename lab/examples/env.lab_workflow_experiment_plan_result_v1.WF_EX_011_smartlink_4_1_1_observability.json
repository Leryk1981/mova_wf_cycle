{
  "mova_version": "4.0.0",
  "envelope_type": "env.lab_workflow_experiment_plan_result_v1",
  "envelope_id": "env.lab_workflow_experiment_plan_result_v1.WF_EX_011_smartlink_4_1_1_observability",
  "requested_by": "codex_cli",
  "requested_at": "2025-12-11T14:05:00Z",
  "meta": {
    "project_id": "mova_skills_lab",
    "labels": [
      "WF_EX_011",
      "smartlink",
      "observability",
      "plan_result"
    ]
  },
  "payload": {
    "experiment_id": "WF_EX_011_smartlink_4_1_1_observability",
    "scope": {
      "objects_in_scope": [
        "ds.smartlink.redirect_event.v1",
        "env.smartlink.redirect_event.v1",
        "global.smartlink.v1 (events/text_channels)",
        "meta.smartlink.v1 (observability section)"
      ],
      "baseline_refs": {
        "ds": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/ds.smartlink_redirect_event_v1.schema.json",
        "env": "lab/experiments/smartlink_4_1_1_candidate_ex010/envelopes/env.smartlink_redirect_event_v1.json",
        "global": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/global.smartlink_v1.json",
        "meta": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/meta.smartlink_v1.json"
      },
      "candidate_refs": {
        "ds": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/ds.smartlink_redirect_event_v1.schema.json",
        "env": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/envelopes/env.smartlink_redirect_event_v1.json",
        "global": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/global.smartlink_v1.json",
        "meta": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/meta.smartlink_v1.json"
      }
    },
    "plan_steps": [
      {
        "id": "compare_event_schema",
        "target": "ds.smartlink.redirect_event.v1",
        "description": "Порівняти payload ChatGPT baseline vs Codex: core поля, debug блок, відповідність MOVA 4.1.1 (службові поля, text layer).",
        "expected_outputs": [
          "Перелік різниць core/debug.",
          "Рекомендація, який payload обрати."
        ]
      },
      {
        "id": "compare_envelope",
        "target": "env.smartlink.redirect_event.v1",
        "description": "Порівняти inputs/outputs/plan: як формується подія, як додається debug, чи є зайві залежності.",
        "expected_outputs": [
          "Перелік розбіжностей по inputs/outputs.",
          "Рекомендація щодо текст-каналу/зв'язків з global/meta."
        ]
      },
      {
        "id": "align_global_meta",
        "target": "global+meta",
        "description": "Звірити text channel/event_type і meta-посилання для обох варіантів; визначити, що піде в канон.",
        "expected_outputs": [
          "Окремі пропозиції для global/meta під обраний варіант."
        ]
      }
    ],
    "notes": "План WF_EX_011: оцінити два варіанти observability (ChatGPT baseline vs Codex) для події smartlink.redirected; worker/infra поза scope."
  }
}
