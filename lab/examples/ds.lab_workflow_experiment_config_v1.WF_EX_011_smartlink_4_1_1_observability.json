{
  "experiment_id": "WF_EX_011_smartlink_4_1_1_observability",
  "title": "WF-EX-011: SmartLink 4.1.1 observability (redirect event)",
  "description": "Compare the ChatGPT baseline vs Codex candidate for SmartLink observability (redirect event ds/env plus minimal additions to global/meta).",
  "baseline_procedure_id": "WF_EX_011_baseline_chatgpt_v1",
  "domain": "smartlink_observability",
  "agent_profiles": [
    {
      "agent_id": "baseline_chatgpt",
      "model_family": "chatgpt",
      "profile_id": "chatgpt_baseline_v1"
    },
    {
      "agent_id": "candidate_codex",
      "model_family": "codex",
      "profile_id": "codex_vscode_main"
    }
  ],
  "metrics": [
    {
      "metric_id": "readability",
      "name": "Payload readability",
      "description": "How clear the event/envelope structure is for a human operator.",
      "direction": "maximize"
    },
    {
      "metric_id": "spec_alignment",
      "name": "Spec alignment",
      "description": "Alignment with MOVA 4.1.1 (ds/env/global/meta, text channel).",
      "direction": "maximize"
    },
    {
      "metric_id": "analytics_sufficiency",
      "name": "Analytics sufficiency",
      "description": "Sufficient analytics data without PII sprawl; clear separation of core and debug.",
      "direction": "maximize"
    },
    {
      "metric_id": "scope_isolation",
      "name": "Scope isolation",
      "description": "Clear limitation to the observability layer without touching worker/infra.",
      "direction": "maximize"
    }
  ],
  "constraints": [
    "Do not change the WF_EX_010 rules/env.default/global/meta core except minimal observability additions.",
    "Do not add worker/infra details into ds/env/global/meta.",
    "New ds/env must validate against MOVA 4.1.1 and core schemas.",
    "Scope: only the redirect event (ds/env) and corresponding global/meta additions."
  ],
  "meta": {
    "labels": [
      "WF_EX_011",
      "smartlink",
      "observability",
      "mova_4_1_1"
    ]
  },
  "ext": {
    "objects_in_scope": [
      {
        "id": "ds.smartlink.redirect_event.v1",
        "baseline": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/ds.smartlink_redirect_event_v1.schema.json",
        "candidate": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/ds.smartlink_redirect_event_v1.schema.json"
      },
      {
        "id": "env.smartlink.redirect_event.v1",
        "baseline": "lab/experiments/smartlink_4_1_1_candidate_ex010/envelopes/env.smartlink_redirect_event_v1.json",
        "candidate": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/envelopes/env.smartlink_redirect_event_v1.json"
      },
      {
        "id": "global.smartlink.v1",
        "baseline": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/global.smartlink_v1.json",
        "candidate": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/global.smartlink_v1.json"
      },
      {
        "id": "meta.smartlink.v1",
        "baseline": "lab/experiments/smartlink_4_1_1_candidate_ex010/schemas/meta.smartlink_v1.json",
        "candidate": "lab/experiments/smartlink_4_1_1_candidate_ex011_codex/schemas/meta.smartlink_v1.json"
      }
    ],
    "variants": {
      "baseline_variant": "chatgpt",
      "candidate_variant": "codex"
    },
    "plan_scope": {
      "scenarios": [
        "Create the redirect event from the SmartLink decision.",
        "Log to the text channel smartlink.redirected.",
        "Provide debug/score details in an optional block without PII."
      ],
      "outputs_expected": [
        "Clear payload ds.smartlink.redirect_event.v1 (core + debug).",
        "Envelope for forming/sending the event.",
        "Minimal global/meta additions for the observability layer."
      ]
    },
    "notes_from_operator": "ChatGPT baseline already lives in candidate_ex010; Codex candidate is implemented in candidate_ex011_codex. Scope is the redirect event only; worker/infra are out of the experiment."
  }
}
